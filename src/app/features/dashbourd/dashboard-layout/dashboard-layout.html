<!-- dashboard-layout.html -->
<div class="h-screen grid grid-cols-1 md:grid-cols-[282px_1fr] bg-[#F9FAFB] overflow-hidden">

  <!-- SIDEBAR MOBILE OVERLAY -->
  <aside
    *ngIf="mobileSidebarOpen"
    class="fixed inset-0 z-40 bg-black/40 md:hidden"
    (click)="mobileSidebarOpen = false">

    <div class="w-[282px] bg-[#EFF6FF] h-full p-6"
         (click)="$event.stopPropagation()">
      <app-sidebar
        [title]="sidebarTitle"
        [subtitle]="sidebarSubtitle"
        [links]="sidebarLinks"
        [userName]="userName"
        [userEmail]="userEmail">
      </app-sidebar>
    </div>
  </aside>

  <!-- SIDEBAR DESKTOP -->
  <aside class="hidden md:block h-full bg-[#EFF6FF] border-r border-gray-200 overflow-y-auto">
    <app-sidebar
      [title]="sidebarTitle"
      [subtitle]="sidebarSubtitle"
      [links]="sidebarLinks"
      [userName]="userName"
      [userEmail]="userEmail">
    </app-sidebar>
  </aside>

  <!-- NAVBAR + CONTENT SECTION -->
  <div class="flex flex-col h-full overflow-hidden">

    <!-- NAVBAR -->
    <app-navbar
      [title]="navbarTitle"
      [iconClass]="navbarIcon"
      [showBack]="showBackButton"
      (toggleSidebar)="mobileSidebarOpen = true"
      (back)="onBack()">
    </app-navbar>

    <!-- MAIN CONTENT -->
    <main class="flex-1 overflow-y-auto p-4 md:p-8 bg-[#F9FAFB]">
      <div class="bg-white rounded-lg shadow-sm p-4 md:p-8">
        <router-outlet></router-outlet>
      </div>
    </main>

  </div>
</div>
